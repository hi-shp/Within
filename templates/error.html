<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì˜¤ë¥˜ ë°œìƒ</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="/static/css/style.css?v=2">
</head>
<body>
    <!-- í—¤ë” -->
    <header class="header">
        <div class="logo-container">
            <img src="{{ url_for('static', filename='images/logo1.png') }}" alt="Withinstar Logo" class="logo">
            <span class="site-name">Withinstar.com</span>
        </div>
    </header>

    <div class="page-container">
        <!-- ì¢Œì¸¡ ê´‘ê³  -->
        <div class="ad-section ad-left">
            <div class="adsense">
                <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4209969470096098"
                    crossorigin="anonymous"></script>
                <ins class="adsbygoogle"
                    style="display:block"
                    data-ad-client="ca-pub-4209969470096098"
                    data-ad-slot="1234567890"
                    data-ad-format="auto"
                    data-full-width-responsive="true"></ins>
                <script>+
                    (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
        </div>

        <!-- ë©”ì¸ ì½˜í…ì¸  -->
        <div class="main-content">
            <div class="error-container">
                <div class="error-box">
                    <h1 class="error-title" style="color: #d9534f;">ì˜¤ë¥˜ ë°œìƒ! ë§¤ì¹­ì´ ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.</h1>
                    <p class="error-message" style="color: #d9534f;">í•œ ëª…ë§Œ ì§€ëª© ê°€ëŠ¥í•©ë‹ˆë‹¤. ì¶”ê°€ ì§€ëª©ì„ ì›í•˜ì‹œë©´ ê²°ì œë¥¼ ì§„í–‰í•´ì£¼ì„¸ìš”.</p>
                    <p class="error-info" style="color: #333;">
                        â¤ï¸ "ì¶”ê°€ ì§€ëª©ì„ ì›í•˜ì‹œë‚˜ìš”?"<br>
                        ì´í›„ ì¶”ê°€ë¡œ ê´€ì‹¬ì„ í‘œí˜„í•˜ì‹¤ ê²½ìš°, <strong style="color: #d9534f;">1íšŒë‹¹ 2,500ì›</strong>ì˜ ìš”ê¸ˆì´ ë¶€ê³¼ë©ë‹ˆë‹¤.<br>
                        ë¹„ë°€ìŠ¤ëŸ½ê²Œ ë§ˆìŒì„ ì „í•˜ëŠ” <strong>Withinstar</strong>ì™€ í•¨ê»˜í•˜ì„¸ìš”!
                    </p>
                    <button class="error-button" id="openPopup" style="background-color: #d9534f;">ë§ˆìŒ ì „ë‹¬í•˜ê¸°</button>
                    <hr class="divider" style="border: 1px solid #f5c6cb; margin: 10px 0;">
                    <p style="color: #555;">
                        í˜¹ì€, ê¸°ì¡´ì˜ ë“±ë¡ì„ ì‚­ì œí•˜ê³  ìƒˆë¡œìš´ ì‚¬ëŒì„ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    </p>
                    <a id="changeTargetButton" href="/" style="text-decoration: none;">
                        <button style="background-color: #5bc0de;">ë“±ë¡í•œ ìƒëŒ€ ë°”ê¾¸ê¸°</button>
                    </a>                    

                    <hr class="divider" style="border: 1px solid #f5c6cb; margin: 10px 0;">
                    <h2 class="features-title" style="color: #333;">ì„œë¹„ìŠ¤ íŠ¹ì§•</h2>
                    <ul class="features-list" style="list-style: none; padding: 0; color: #555; font-size: 0.8rem; line-height: 1.8; margin-bottom: 20px;">
                        <li>ğŸ”’ ì•”í˜¸í™” ì‹œìŠ¤í…œìœ¼ë¡œ ì •ë³´ê°€ ì ˆëŒ€ ê³µê°œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</li>
                        <li>ğŸ“© ìƒëŒ€ë°©ê³¼ ë§¤ì¹­ ì„±ê³µ ì‹œ Instagram DMìœ¼ë¡œ ë°”ë¡œ ì•Œë¦¼!</li>
                        <li>ğŸ’Œ ë§ˆìŒì„ ì „í•˜ëŠ” ê°„ë‹¨í•˜ê³  ì§ê´€ì ì¸ ì„œë¹„ìŠ¤ë¥¼ ê²½í—˜í•˜ì„¸ìš”.</li>
                    </ul>
                    <div style="text-align: center;">
                        <a href="/" class="home-link" style="color: #d9534f; text-decoration: none; font-size: 0.8rem; padding-top: 20px; display: inline-block;">
                            í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- ìš°ì¸¡ ê´‘ê³  -->
        <div class="ad-section ad-right">
            <div class="adsense">
                <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4209969470096098"
                    crossorigin="anonymous"></script>
                <ins class="adsbygoogle"
                    style="display:block"
                    data-ad-client="ca-pub-4209969470096098"
                    data-ad-slot="1234567890"
                    data-ad-format="auto"
                    data-full-width-responsive="true"></ins>
                <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
        </div>
    </div>

    <!-- íŒì—… ë ˆì´ì•„ì›ƒ -->
    <div id="popup" class="popup" style="display: none;">
        <div class="popup-content">
            <h2>ê¸°ëŠ¥ ì¤€ë¹„ ì¤‘</h2>
            <p>
                "ë§ˆìŒ ì „ë‹¬í•˜ê¸°" ê¸°ëŠ¥ì€ í˜„ì¬ êµ¬í˜„ ì¤‘ì…ë‹ˆë‹¤.<br>
                í•˜ì§€ë§Œ ë¬´ë£Œ ë§¤ì¹­ì€ ì •ìƒì ìœ¼ë¡œ ì‘ë™í•©ë‹ˆë‹¤.<br>
                ì¡°ê¸ˆë§Œ ê¸°ë‹¤ë ¤ ì£¼ì„¸ìš”! ë” ë‚˜ì€ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ê² ìŠµë‹ˆë‹¤. ğŸ˜Š
            </p>
            <button id="closePopup" class="popup-button">ë‹«ê¸°</button>
        </div>
    </div>    

    <!-- í‘¸í„° -->
    <footer class="footer">
        <div class="footer-content">
            <p>Â© 2024 ì¸ë°ì´(Withinstar). All rights reserved.</p>
            <p>ì‚¬ì—…ì ë“±ë¡ë²ˆí˜¸: 843-18-02055 | ëŒ€í‘œ: ë°•ìˆœí™</p>
            <p>ì´ë©”ì¼: hishp@pusan.ac.kr | ì „í™”: 010-5278-4017</p>
            <p>ì£¼ì†Œ: ë¶€ì‚°ê´‘ì—­ì‹œ ê¸ˆì •êµ¬ ë¶€ì‚°ëŒ€í•™ë¡œ63ë²ˆê¸¸ (ë¶€ì‚°ëŒ€í•™êµ 11ê³µí•™ê´€)</p>
            <p>ë³¸ ì›¹ì‚¬ì´íŠ¸ì˜ ëª¨ë“  ì½˜í…ì¸ ëŠ” ì €ì‘ê¶Œë²•ì— ì˜í•´ ë³´í˜¸ë˜ë©°, ë¬´ë‹¨ ë³µì œ ë° ë°°í¬ë¥¼ ê¸ˆí•©ë‹ˆë‹¤.</p>
        </div>
    </footer>

    <script>
    document.addEventListener("DOMContentLoaded", function () {
    const openPopupButton = document.getElementById("openPopup");
    const popup = document.getElementById("popup");
    const closePopupButton = document.getElementById("closePopup");
    const changeTargetButton = document.getElementById("changeTargetButton");

    // íŒì—… ì—´ê¸° (ë§ˆìŒ ì „ë‹¬í•˜ê¸° ë²„íŠ¼ í´ë¦­ ì‹œ íŒì—… í‘œì‹œ)
    if (openPopupButton) {
        openPopupButton.addEventListener("click", function () {
            popup.style.display = "flex"; // íŒì—… í‘œì‹œ
        });
    }

    // íŒì—… ë‹«ê¸°
    if (closePopupButton) {
        closePopupButton.addEventListener("click", function () {
            popup.style.display = "none"; // íŒì—… ìˆ¨ê¹€
        });
    }

    // ë“±ë¡í•œ ìƒëŒ€ ë°”ê¾¸ê¸° ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
    if (changeTargetButton) {
        changeTargetButton.addEventListener("click", async function (event) {
            event.preventDefault(); // ê¸°ë³¸ ë™ì‘(ë§í¬ ì´ë™) ì¤‘ë‹¨

            try {
                // DELETE ìš”ì²­ìœ¼ë¡œ ì„œë²„ì— ë°ì´í„° ì‚­ì œ ìš”ì²­
                const response = await fetch('/delete_target', {
                    method: 'DELETE',
                    headers: {
                        'Content-Type': 'application/json'
                    }
                });

                if (response.ok) {
                    const result = await response.json();
                    alert(result.message); // ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ
                    window.location.href = "/"; // í™ˆ í™”ë©´ìœ¼ë¡œ ë¦¬ë‹¤ì´ë ‰ì…˜
                } else if (response.status === 401) {
                    alert("ì¸ì¦ë˜ì§€ ì•Šì€ ì‚¬ìš©ìì…ë‹ˆë‹¤. ë‹¤ì‹œ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.");
                    window.location.href = "/error/User not authenticated"; // ì˜¤ë¥˜ í˜ì´ì§€ë¡œ ì´ë™
                } else if (response.status === 404) {
                    alert("ì‚­ì œí•  ëŒ€ìƒì´ ì—†ìŠµë‹ˆë‹¤.");
                } else {
                    alert("ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.");
                }
            } catch (error) {
                alert("ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.");
                console.error("Error:", error);
            }
        });
    }
});

</script>        
</body>
</html>
